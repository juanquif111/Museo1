<!--
  Generated template for the BusPerPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>Buscar Persona</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-content>
        <ion-card>
            <ion-card-header>
                <h1>BUSCAR PERSONAS</h1>
            </ion-card-header>
            <ion-list>
                <ion-item>
                    <ion-label ion-text floating> Filtro </ion-label>
                    <ion-select [(ngModel)]= "item" (ionChange)="verifique()"> <!-- (ionChange)="verifique() cuando exista un cambio -->
                        <ion-option value="1">Todos</ion-option>
                        <ion-option value="nombre">Nombre</ion-option>
                        <ion-option value="apellido">Apellido</ion-option>
                        <ion-option value="CC">Cedula</ion-option>
                        <ion-option value="telefono">telefono</ion-option>
                        <ion-option value="email">correo</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item *ngIf="item!=1?true:false">  <!-- si item es diferente de 1 se activa este ion-item (true) de lo contrario no   -->
                    <ion-label ion-text floating>opciones de filtro</ion-label>
                    <ion-input [(ngModel)]= "criterio"></ion-input>                    
                </ion-item>
                <ion-item>
                    <button ion-button style="float:right;" (click)="buscar()">Buscar</button>
                </ion-item>
            </ion-list>
        </ion-card>
        <ion-card>
            <ion-card-header>
                Los resultados son:
            </ion-card-header>
            <ion-card-content>
                <ion-list>
                    <ion-item *ngFor="let persona of edificio">
                        <ion-avatar item-start>
                            <img src="http://192.168.0.223/flas11/img/{{persona.foto}}">
                        </ion-avatar>
                        <h2>{{persona.nombre}} {{persona.apellido}}</h2>
                        <p>{{persona.email}}</p>
                        <button ion-button clear item-end (click)="verPerfil(persona)">Ver Perfil</button>
                    </ion-item>
                </ion-list>
            </ion-card-content>
        </ion-card>
    </ion-content>
